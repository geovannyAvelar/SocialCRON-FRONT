<header>
  <nav class="top-nav blue-grey darken-4">
    <div class="container">
      <div class="nav-wrapper"><a class="page-title">Profiles</a></div>
    </div>
  </nav>
</header>

<div ng-if="loading" class="progress">
  <div class="indeterminate"></div>
</div>

<div class="row">

  <table ng-if="!loading" class="col s12 m8 offset-m3 responsive-table highlight">
    <thead>
      <tr>
        <th>Name</th>
        <th>Created at</th>
        <th>Expires at</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <tr ng-repeat="profile in profiles">
        <td>{{profile.name}}</td>
        <td>{{profile.createdAt}}</td>
        <td>{{profile.expires}}</td>
        <td>
          <a data-target="deleteProfileModal" 
             class="btn btn-floating btn-small waves-effect waves-light red"
             ng-click="setSelectedProfile(profile.id)">
            <i class="material-icons">delete_forever</i>
          </a>
        </td>
      </tr>
    </tbody>

  </table>

</div>

<!-- DELETE PROFILE MODAL -->
<div id="deleteProfileModal" class="modal">
  <div class="modal-content">
    <h4>Delete a profile</h4>
    <p>This profile will be deleted permanently</p>
  </div>
  <div class="modal-footer">
    <a ng-click="deleteProfile()" class="modal-action modal-close waves-effect waves-green btn-flat">
      Yes, delete this profile
    </a>
    <a class="modal-action modal-close waves-effect waves-red btn-flat">
      No, cancel this action
    </a>
  </div>
</div>